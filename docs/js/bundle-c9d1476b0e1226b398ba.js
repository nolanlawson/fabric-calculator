!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";(function(t){function r(){}n.d(e,"a",(function(){return Z})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return N})),n.d(e,"e",(function(){return J})),n.d(e,"f",(function(){return V})),n.d(e,"g",(function(){return W})),n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return b})),n.d(e,"j",(function(){return O})),n.d(e,"k",(function(){return D})),n.d(e,"l",(function(){return Y})),n.d(e,"m",(function(){return a})),n.d(e,"n",(function(){return j})),n.d(e,"o",(function(){return U})),n.d(e,"p",(function(){return r})),n.d(e,"q",(function(){return o})),n.d(e,"r",(function(){return u})),n.d(e,"s",(function(){return m})),n.d(e,"t",(function(){return v})),n.d(e,"u",(function(){return w})),n.d(e,"v",(function(){return d})),n.d(e,"w",(function(){return h})),n.d(e,"x",(function(){return p})),n.d(e,"y",(function(){return y})),n.d(e,"z",(function(){return B})),n.d(e,"A",(function(){return H})),n.d(e,"B",(function(){return q}));function i(t){return t()}function c(){return Object.create(null)}function o(t){t.forEach(i)}function s(t){return"function"==typeof t}function u(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}new Set;function l(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function b(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function p(t){return document.createTextNode(t)}function d(){return p(" ")}function O(){return p("")}function j(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t){return""===t?void 0:+t}function m(t,e){e=""+e,t.data!==e&&(t.data=e)}function v(t,e){(null!=e||t.value)&&(t.value=e)}function w(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}new Set;let x;function C(t){x=t}const S=[],k=[],F=[],E=[],_=Promise.resolve();let T=!1;function A(){T||(T=!0,_.then(z))}function $(t){F.push(t)}let R=!1;const M=new Set;function z(){if(!R){R=!0;do{for(let t=0;t<S.length;t+=1){const e=S[t];C(e),I(e.$$)}for(S.length=0;k.length;)k.pop()();for(let t=0;t<F.length;t+=1){const e=F[t];M.has(e)||(M.add(e),e())}F.length=0}while(S.length);for(;E.length;)E.pop()();T=!1,R=!1,M.clear()}}function I(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach($)}}const P=new Set;let L;function D(){L={r:0,c:[],p:L}}function N(){L.r||o(L.c),L=L.p}function B(t,e){t&&t.i&&(P.delete(t),t.i(e))}function H(t,e,n,r){if(t&&t.o){if(P.has(t))return;P.add(t),L.c.push(()=>{P.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}"undefined"!=typeof window?window:"undefined"!=typeof globalThis&&globalThis;function V(t,e){t.d(1),e.delete(t.key)}function q(t,e,n,r,i,c,o,s,u,l,a,f){let b=t.length,h=c.length,p=b;const d={};for(;p--;)d[t[p].key]=p;const O=[],j=new Map,g=new Map;for(p=h;p--;){const t=f(i,c,p),s=n(t);let u=o.get(s);u?r&&u.p(t,e):(u=l(s,t),u.c()),j.set(s,O[p]=u),s in d&&g.set(s,Math.abs(p-d[s]))}const y=new Set,m=new Set;function v(t){B(t,1),t.m(s,a,o.has(t.key)),o.set(t.key,t),a=t.first,h--}for(;b&&h;){const e=O[h-1],n=t[b-1],r=e.key,i=n.key;e===n?(a=e.first,b--,h--):j.has(i)?!o.has(r)||y.has(r)?v(e):m.has(i)?b--:g.get(r)>g.get(i)?(m.add(r),v(e)):(y.add(i),b--):(u(n,o),b--)}for(;b--;){const e=t[b];j.has(e.key)||u(e,o)}for(;h;)v(O[h-1]);return O}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);let G;function J(t){t&&t.c()}function U(t,e,n){const{fragment:r,on_mount:c,on_destroy:u,after_update:l}=t.$$;r&&r.m(e,n),$(()=>{const e=c.map(i).filter(s);u?u.push(...e):o(e),t.$$.on_mount=[]}),l.forEach($)}function W(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Y(t,e,n,i,s,u,l=[-1]){const a=x;C(t);const b=e.props||{},h=t.$$={fragment:null,ctx:null,props:u,update:r,not_equal:s,bound:c(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:c(),dirty:l};let p=!1;if(h.ctx=n?n(t,b,(e,n,...r)=>{const i=r.length?r[0]:n;return h.ctx&&s(h.ctx[e],h.ctx[e]=i)&&(h.bound[e]&&h.bound[e](i),p&&function(t,e){-1===t.$$.dirty[0]&&(S.push(t),A(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n}):[],h.update(),p=!0,o(h.before_update),h.fragment=!!i&&i(h.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);h.fragment&&h.fragment.l(t),t.forEach(f)}else h.fragment&&h.fragment.c();e.intro&&B(t.$$.fragment),U(t,e.target,e.anchor),z()}C(a)}"function"==typeof HTMLElement&&(G=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}$destroy(){W(this,1),this.$destroy=r}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}});class Z{$destroy(){W(this,1),this.$destroy=r}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}}).call(this,n(2))},function(t,e,n){},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(1);var r=n(0);n(3);function i(t,e){return t(e={exports:{}},e.exports),e.exports}var c,o=i((function(t){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){t.exports=function(t,e,n){var r=Math.floor(6*t),i=6*t-r,c=n*(1-e),o=n*(1-i*e),s=n*(1-(1-i)*e),u=255,l=255,a=255;switch(r){case 0:u=n,l=s,a=c;break;case 1:u=o,l=n,a=c;break;case 2:u=c,l=n,a=s;break;case 3:u=c,l=o,a=n;break;case 4:u=s,l=c,a=n;break;case 5:u=n,l=c,a=o}return[Math.floor(255*u),Math.floor(255*l),Math.floor(255*a)]}},function(t,e,n){var r=n(2);t.exports=function(t){return"#"+t.map((function(t){return r(t.toString(16))})).join("")}},function(t,e,n){t.exports=function(t){return t.length>2?t:new Array(2-t.length+1).join("0")+t}},function(t,e,n){var r=n(0),i=n(1),c=void 0;function o(){c=Math.random()}function s(t,e){var n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.hue,n=t.saturation,i=t.value;return void 0===e&&(c+=.618033988749895,e=c%=1),"number"!=typeof n&&(n=.5),"number"!=typeof i&&(i=.95),r(e,n,i)}(t,e);return i(n)}o(),s.reSeed=o,t.exports=s}])})),s=(c=o)&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c;const u=Math.random;Math.random=()=>.3,s.reSeed(),Math.random=u;const l=[];function a(t){for(;!l[t];)l.push(s());return l[t]}function f(t,e,n){const r=t.slice();return r[7]=e[n],r}function b(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function h(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function p(t,e){let n,i,c,o,s,u,l,a,f,b,h,p=e[12]+1+"",d=e[10].width+"",O=e[10].height+"",j=e[10].x+"",g=e[10].y+"";return{key:t,first:null,c(){n=Object(r.i)("li"),i=Object(r.x)("Fabric piece #"),c=Object(r.x)(p),o=Object(r.x)(": "),s=Object(r.x)(d),u=Object(r.x)(" wide by "),l=Object(r.x)(O),a=Object(r.x)(" long, at position "),f=Object(r.x)(j),b=Object(r.x)(", "),h=Object(r.x)(g),this.first=n},m(t,e){Object(r.m)(t,n,e),Object(r.b)(n,i),Object(r.b)(n,c),Object(r.b)(n,o),Object(r.b)(n,s),Object(r.b)(n,u),Object(r.b)(n,l),Object(r.b)(n,a),Object(r.b)(n,f),Object(r.b)(n,b),Object(r.b)(n,h)},p(t,e){1&e&&p!==(p=t[12]+1+"")&&Object(r.s)(c,p),1&e&&d!==(d=t[10].width+"")&&Object(r.s)(s,d),1&e&&O!==(O=t[10].height+"")&&Object(r.s)(l,O),1&e&&j!==(j=t[10].x+"")&&Object(r.s)(f,j),1&e&&g!==(g=t[10].y+"")&&Object(r.s)(h,g)},d(t){t&&Object(r.h)(n)}}}function d(t,e){let n,i,c,o,s,u;return{key:t,first:null,c(){n=Object(r.w)("rect"),Object(r.c)(n,"x",i=e[10].x),Object(r.c)(n,"y",c=e[10].y),Object(r.c)(n,"width",o=e[10].width),Object(r.c)(n,"height",s=e[10].height),Object(r.c)(n,"fill",u=a(e[10].id)),this.first=n},m(t,e){Object(r.m)(t,n,e)},p(t,e){1&e&&i!==(i=t[10].x)&&Object(r.c)(n,"x",i),1&e&&c!==(c=t[10].y)&&Object(r.c)(n,"y",c),1&e&&o!==(o=t[10].width)&&Object(r.c)(n,"width",o),1&e&&s!==(s=t[10].height)&&Object(r.c)(n,"height",s),1&e&&u!==(u=a(t[10].id))&&Object(r.c)(n,"fill",u)},d(t){t&&Object(r.h)(n)}}}function O(t){let e,n=[],i=new Map,c=t[4];const o=t=>[t[7].x1,t[7].y1,t[7].x2,t[7].y2].join(",");for(let e=0;e<c.length;e+=1){let r=f(t,c,e),s=o(r);i.set(s,n[e]=j(s,r))}return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=Object(r.j)()},m(t,i){for(let e=0;e<n.length;e+=1)n[e].m(t,i);Object(r.m)(t,e,i)},p(t,c){if(16&c){const s=t[4];n=Object(r.B)(n,c,o,1,t,s,i,e.parentNode,r.f,j,e,f)}},d(t){for(let e=0;e<n.length;e+=1)n[e].d(t);t&&Object(r.h)(e)}}}function j(t,e){let n,i,c,o,s;return{key:t,first:null,c(){n=Object(r.w)("line"),Object(r.c)(n,"x1",i=e[7].x1),Object(r.c)(n,"y1",c=e[7].y1),Object(r.c)(n,"x2",o=e[7].x2),Object(r.c)(n,"y2",s=e[7].y2),Object(r.c)(n,"class","border svelte-1q5u4ch"),Object(r.c)(n,"stroke-dasharray","1"),this.first=n},m(t,e){Object(r.m)(t,n,e)},p(t,e){16&e&&i!==(i=t[7].x1)&&Object(r.c)(n,"x1",i),16&e&&c!==(c=t[7].y1)&&Object(r.c)(n,"y1",c),16&e&&o!==(o=t[7].x2)&&Object(r.c)(n,"x2",o),16&e&&s!==(s=t[7].y2)&&Object(r.c)(n,"y2",s)},d(t){t&&Object(r.h)(n)}}}function g(t){let e,n,i,c,o,s,u,l,a,f,j,g,y,m,v,w,x,C,S,k,F,E,_,T,A,$,R,M,z,I,P,L,D=[],N=new Map,B=[],H=new Map,V=t[0];const q=t=>t[10].id;for(let e=0;e<V.length;e+=1){let n=h(t,V,e),r=q(n);N.set(r,D[e]=p(r,n))}let G=t[0];const J=t=>t[10].id;for(let e=0;e<G.length;e+=1){let n=b(t,G,e),r=J(n);H.set(r,B[e]=d(r,n))}let U=t[3]&&O(t);return{c(){e=Object(r.i)("section"),n=Object(r.i)("ul");for(let t=0;t<D.length;t+=1)D[t].c();i=Object(r.v)(),c=Object(r.i)("div"),o=Object(r.i)("div"),s=Object(r.v)(),u=Object(r.i)("div"),l=Object(r.x)(t[2]),a=Object(r.x)('"'),f=Object(r.v)(),j=Object(r.i)("div"),g=Object(r.v)(),y=Object(r.i)("div"),m=Object(r.x)(t[1]),v=Object(r.x)('" (selvage)'),w=Object(r.v)(),x=Object(r.i)("div"),C=Object(r.w)("svg");for(let t=0;t<B.length;t+=1)B[t].c();S=Object(r.j)(),U&&U.c(),k=Object(r.w)("rect"),E=Object(r.v)(),_=Object(r.i)("div"),_.textContent="(selvage)",T=Object(r.v)(),A=Object(r.i)("div"),$=Object(r.i)("div"),R=Object(r.i)("label"),M=Object(r.i)("input"),z=Object(r.v)(),I=Object(r.i)("span"),I.textContent="Show gridlines",Object(r.c)(n,"class","sr-only"),Object(r.c)(n,"aria-label","Fabric pieces drawn in the diagram"),Object(r.c)(u,"class","x-label"),Object(r.c)(y,"class","y-label svelte-1q5u4ch"),Object(r.c)(k,"class","border svelte-1q5u4ch"),Object(r.c)(k,"x","0"),Object(r.c)(k,"y","0"),Object(r.c)(k,"width",t[2]),Object(r.c)(k,"height",t[1]),Object(r.c)(k,"fill-opacity","0"),Object(r.c)(C,"xmlns","http://www.w3.org/2000/svg"),Object(r.c)(C,"viewBox",F="0 0 "+t[2]+" "+t[1]),Object(r.c)(C,"class","svelte-1q5u4ch"),Object(r.c)(_,"class","y-label-right svelte-1q5u4ch"),Object(r.c)(c,"class","grid svelte-1q5u4ch"),Object(r.c)(c,"aria-hidden","true"),Object(r.c)(M,"type","checkbox"),Object(r.c)($,"class","pad-v-10"),Object(r.c)(e,"aria-label",P="Diagram "+t[2]+" wide by "+t[1]+" long")},m(b,h,p){Object(r.m)(b,e,h),Object(r.b)(e,n);for(let t=0;t<D.length;t+=1)D[t].m(n,null);Object(r.b)(e,i),Object(r.b)(e,c),Object(r.b)(c,o),Object(r.b)(c,s),Object(r.b)(c,u),Object(r.b)(u,l),Object(r.b)(u,a),Object(r.b)(c,f),Object(r.b)(c,j),Object(r.b)(c,g),Object(r.b)(c,y),Object(r.b)(y,m),Object(r.b)(y,v),Object(r.b)(c,w),Object(r.b)(c,x),Object(r.b)(x,C);for(let t=0;t<B.length;t+=1)B[t].m(C,null);Object(r.b)(C,S),U&&U.m(C,null),Object(r.b)(C,k),Object(r.b)(c,E),Object(r.b)(c,_),Object(r.b)(e,T),Object(r.b)(e,A),Object(r.b)(A,$),Object(r.b)($,R),Object(r.b)(R,M),M.checked=t[3],Object(r.b)(R,z),Object(r.b)(R,I),p&&L(),L=Object(r.n)(M,"change",t[6])},p(t,[i]){if(1&i){const e=t[0];D=Object(r.B)(D,i,q,1,t,e,N,n,r.f,p,null,h)}if(4&i&&Object(r.s)(l,t[2]),2&i&&Object(r.s)(m,t[1]),1&i){const e=t[0];B=Object(r.B)(B,i,J,1,t,e,H,C,r.f,d,S,b)}t[3]?U?U.p(t,i):(U=O(t),U.c(),U.m(C,k)):U&&(U.d(1),U=null),4&i&&Object(r.c)(k,"width",t[2]),2&i&&Object(r.c)(k,"height",t[1]),6&i&&F!==(F="0 0 "+t[2]+" "+t[1])&&Object(r.c)(C,"viewBox",F),8&i&&(M.checked=t[3]),6&i&&P!==(P="Diagram "+t[2]+" wide by "+t[1]+" long")&&Object(r.c)(e,"aria-label",P)},i:r.p,o:r.p,d(t){t&&Object(r.h)(e);for(let t=0;t<D.length;t+=1)D[t].d();for(let t=0;t<B.length;t+=1)B[t].d();U&&U.d(),L()}}}function y(t,e,n){let r=!0,i=[],{increment:c}=e,{items:o}=e,{height:s}=e,{width:u}=e;return t.$set=t=>{"increment"in t&&n(5,c=t.increment),"items"in t&&n(0,o=t.items),"height"in t&&n(1,s=t.height),"width"in t&&n(2,u=t.width)},t.$$.update=()=>{if(38&t.$$.dirty){!function(){const t=[];for(let e=c;e<u;e+=c)t.push({x1:e,y1:0,x2:e,y2:s});for(let e=c;e<s;e+=c)t.push({x1:0,y1:e,x2:u,y2:e});n(4,i=t)}()}},[o,s,u,r,i,c,function(){r=this.checked,n(3,r)}]}class m extends r.a{constructor(t){super(),Object(r.l)(this,t,y,g,r.r,{increment:5,items:0,height:1,width:2})}}var v=m,w=i((function(t){var e,n,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"==typeof clearTimeout?clearTimeout:c}catch(t){n=c}}();var s,u=[],l=!1,a=-1;function f(){l&&s&&(l=!1,s.length?u=s.concat(u):a=-1,u.length&&b())}function b(){if(!l){var t=o(f);l=!0;for(var e=u.length;e;){for(s=u,u=[];++a<e;)s&&s[a].run();a=-1,e=u.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===c||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new h(t,e)),1!==u.length||l||o(b)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}));var x={isatty:function(){return!1},ReadStream:function(){throw new Error("tty.ReadStream is not implemented")},WriteStream:function(){throw new Error("tty.ReadStream is not implemented")}},C=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8},S=i((function(t){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}})),k=i((function(t,e){var n=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},r=/%[sdj%]/g;e.format=function(t){if(!O(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(o(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,c=i.length,s=String(t).replace(r,(function(t){if("%%"===t)return"%";if(n>=c)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return t}})),u=i[n];n<c;u=i[++n])p(u)||!y(u)?s+=" "+u:s+=" "+o(u);return s},e.deprecate=function(t,n){if(void 0!==w&&!0===w.noDeprecation)return t;if(void 0===w)return function(){return e.deprecate(t,n).apply(this,arguments)};var r=!1;return function(){if(!r){if(w.throwDeprecation)throw new Error(n);w.traceDeprecation?console.trace(n):console.error(n),r=!0}return t.apply(this,arguments)}};var i,c={};function o(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&e._extend(r,n),j(r.showHidden)&&(r.showHidden=!1),j(r.depth)&&(r.depth=2),j(r.colors)&&(r.colors=!1),j(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),l(r,t,r.depth)}function s(t,e){var n=o.styles[e];return n?"["+o.colors[n][0]+"m"+t+"["+o.colors[n][1]+"m":t}function u(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&x(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return O(i)||(i=l(t,i,r)),i}var c=function(t,e){if(j(e))return t.stylize("undefined","undefined");if(O(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(d(e))return t.stylize(""+e,"number");if(h(e))return t.stylize(""+e,"boolean");if(p(e))return t.stylize("null","null")}(t,n);if(c)return c;var o=Object.keys(n),s=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(n)),v(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return a(n);if(0===o.length){if(x(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(g(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(m(n))return t.stylize(Date.prototype.toString.call(n),"date");if(v(n))return a(n)}var y,w="",C=!1,S=["{","}"];(b(n)&&(C=!0,S=["[","]"]),x(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return g(n)&&(w=" "+RegExp.prototype.toString.call(n)),m(n)&&(w=" "+Date.prototype.toUTCString.call(n)),v(n)&&(w=" "+a(n)),0!==o.length||C&&0!=n.length?r<0?g(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),y=C?function(t,e,n,r,i){for(var c=[],o=0,s=e.length;o<s;++o)T(e,String(o))?c.push(f(t,e,n,r,String(o),!0)):c.push("");return i.forEach((function(i){i.match(/^\d+$/)||c.push(f(t,e,n,r,i,!0))})),c}(t,n,r,s,o):o.map((function(e){return f(t,n,r,s,e,C)})),t.seen.pop(),function(t,e,n){if(t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(y,w,S)):S[0]+w+S[1]}function a(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i,c){var o,s,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),T(r,i)||(o="["+i+"]"),s||(t.seen.indexOf(u.value)<0?(s=p(n)?l(t,u.value,null):l(t,u.value,n-1)).indexOf("\n")>-1&&(s=c?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),j(o)){if(c&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+s}function b(t){return Array.isArray(t)}function h(t){return"boolean"==typeof t}function p(t){return null===t}function d(t){return"number"==typeof t}function O(t){return"string"==typeof t}function j(t){return void 0===t}function g(t){return y(t)&&"[object RegExp]"===k(t)}function y(t){return"object"==typeof t&&null!==t}function m(t){return y(t)&&"[object Date]"===k(t)}function v(t){return y(t)&&("[object Error]"===k(t)||t instanceof Error)}function x(t){return"function"==typeof t}function k(t){return Object.prototype.toString.call(t)}function F(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(j(i)&&(i=""),t=t.toUpperCase(),!c[t])if(new RegExp("\\b"+t+"\\b","i").test(i)){var n=w.pid;c[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else c[t]=function(){};return c[t]},e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=b,e.isBoolean=h,e.isNull=p,e.isNullOrUndefined=function(t){return null==t},e.isNumber=d,e.isString=O,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=j,e.isRegExp=g,e.isObject=y,e.isDate=m,e.isError=v,e.isFunction=x,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=C;var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function _(){var t=new Date,e=[F(t.getHours()),F(t.getMinutes()),F(t.getSeconds())].join(":");return[t.getDate(),E[t.getMonth()],e].join(" ")}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",_(),e.format.apply(e,arguments))},e.inherits=S,e._extend=function(t,e){if(!e||!y(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function $(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(A&&t[A]){var e;if("function"!=typeof(e=t[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],c=0;c<arguments.length;c++)i.push(arguments[c]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),A&&Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,n(t))},e.promisify.custom=A,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n]);var r=e.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var i=this,c=function(){return r.apply(i,arguments)};t.apply(this,e).then((function(t){w.nextTick(c,null,t)}),(function(t){w.nextTick($,t,c)}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,n(t)),e}})),F=(k.format,k.deprecate,k.debuglog,k.inspect,k.isArray,k.isBoolean,k.isNull,k.isNullOrUndefined,k.isNumber,k.isString,k.isSymbol,k.isUndefined,k.isRegExp,k.isObject,k.isDate,k.isError,k.isFunction,k.isPrimitive,k.isBuffer,k.log,k.inherits,k._extend,k.promisify,k.callbackify,function(t,e){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)});function E(t,e){function n(){this.constructor=t}F(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var _=function(){return(_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function T(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var c=arguments[e],o=0,s=c.length;o<s;o++,i++)r[i]=c[o];return r}function A(t,e){return t(e={exports:{}},e.exports),e.exports}var $=1e3,R=6e4,M=60*R,z=24*M,I=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*z;case"hours":case"hour":case"hrs":case"hr":case"h":return n*M;case"minutes":case"minute":case"mins":case"min":case"m":return n*R;case"seconds":case"second":case"secs":case"sec":case"s":return n*$;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(t);if("number"===n&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=z)return P(t,e,z,"day");if(e>=M)return P(t,e,M,"hour");if(e>=R)return P(t,e,R,"minute");if(e>=$)return P(t,e,$,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=z)return Math.round(t/z)+"d";if(e>=M)return Math.round(t/M)+"h";if(e>=R)return Math.round(t/R)+"m";if(e>=$)return Math.round(t/$)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function P(t,e,n,r){var i=e>=1.5*n;return Math.round(t/n)+" "+r+(i?"s":"")}var L=function(t){function e(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return n.colors[Math.abs(e)%n.colors.length]}function n(t){let c;function o(...t){if(!o.enabled)return;const e=o,r=Number(new Date),i=r-(c||r);e.diff=i,e.prev=c,e.curr=r,c=r,t[0]=n.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let s=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(r,i)=>{if("%%"===r)return r;s++;const c=n.formatters[i];if("function"==typeof c){const n=t[s];r=c.call(e,n),t.splice(s,1),s--}return r}),n.formatArgs.call(e,t);(e.log||n.log).apply(e,t)}return o.namespace=t,o.enabled=n.enabled(t),o.useColors=n.useColors(),o.color=e(t),o.destroy=r,o.extend=i,"function"==typeof n.init&&n.init(o),n.instances.push(o),o}function r(){const t=n.instances.indexOf(this);return-1!==t&&(n.instances.splice(t,1),!0)}function i(t,e){const r=n(this.namespace+(void 0===e?":":e)+t);return r.log=this.log,r}function c(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},n.disable=function(){const t=[...n.names.map(c),...n.skips.map(c).map(t=>"-"+t)].join(",");return n.enable(""),t},n.enable=function(t){let e;n.save(t),n.names=[],n.skips=[];const r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(e=0;e<i;e++)r[e]&&("-"===(t=r[e].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")));for(e=0;e<n.instances.length;e++){const t=n.instances[e];t.enabled=n.enabled(t.namespace)}},n.enabled=function(t){if("*"===t[t.length-1])return!0;let e,r;for(e=0,r=n.skips.length;e<r;e++)if(n.skips[e].test(t))return!1;for(e=0,r=n.names.length;e<r;e++)if(n.names[e].test(t))return!0;return!1},n.humanize=I,Object.keys(t).forEach(e=>{n[e]=t[e]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=e,n.enable(n.load()),n},D=A((function(t,e){e.log=function(...t){return"object"==typeof console&&console.log&&console.log(...t)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(r++,"%c"===t&&(i=r))}),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&void 0!==w&&"env"in w&&(t={}.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=L(e);const{formatters:n}=t.exports;n.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}})),N=(D.log,D.formatArgs,D.save,D.load,D.useColors,D.storage,D.colors,(t,e)=>{e=e||w.argv;const n=t.startsWith("-")?"":1===t.length?"-":"--",r=e.indexOf(n+t),i=e.indexOf("--");return-1!==r&&(-1===i||r<i)});const B=w.env;let H;function V(t){return function(t){return 0!==t&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}(function(t){if(!1===H)return 0;if(N("color=16m")||N("color=full")||N("color=truecolor"))return 3;if(N("color=256"))return 2;if(t&&!t.isTTY&&!0!==H)return 0;const e=H?1:0;if("CI"in B)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(t=>t in B)||"codeship"===B.CI_NAME?1:e;if("TEAMCITY_VERSION"in B)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(B.TEAMCITY_VERSION)?1:0;if("truecolor"===B.COLORTERM)return 3;if("TERM_PROGRAM"in B){const t=parseInt((B.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(B.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(B.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(B.TERM)||"COLORTERM"in B?1:(B.TERM,e)}(t))}N("no-color")||N("no-colors")||N("color=false")?H=!1:(N("color")||N("colors")||N("color=true")||N("color=always"))&&(H=!0),"FORCE_COLOR"in B&&(H=0===B.FORCE_COLOR.length||0!==parseInt(B.FORCE_COLOR,10));var q,G,J={supportsColor:V,stdout:V(w.stdout),stderr:V(w.stderr)},U=A((function(t,e){e.init=function(t){t.inspectOpts={};const n=Object.keys(e.inspectOpts);for(let r=0;r<n.length;r++)t.inspectOpts[n[r]]=e.inspectOpts[n[r]]},e.log=function(...t){return w.stderr.write(k.format(...t)+"\n")},e.formatArgs=function(n){const{namespace:r,useColors:i}=this;if(i){const e=this.color,i="[3"+(e<8?e:"8;5;"+e),c=`  ${i};1m${r} [0m`;n[0]=c+n[0].split("\n").join("\n"+c),n.push(i+"m+"+t.exports.humanize(this.diff)+"[0m")}else n[0]=function(){if(e.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+r+" "+n[0]},e.save=function(t){},e.load=function(){return{}.DEBUG},e.useColors=function(){return"colors"in e.inspectOpts?Boolean(e.inspectOpts.colors):x.isatty(w.stderr.fd)},e.colors=[6,2,3,4,5,1];try{const t=J;t&&(t.stderr||t).level>=2&&(e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}e.inspectOpts=Object.keys(w.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{const n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(t,e)=>e.toUpperCase());let r=w.env[e];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),t[n]=r,t},{}),t.exports=L(e);const{formatters:n}=t.exports;n.o=function(t){return this.inspectOpts.colors=this.useColors,k.inspect(t,this.inspectOpts).replace(/\s*\n\s*/g," ")},n.O=function(t){return this.inspectOpts.colors=this.useColors,k.inspect(t,this.inspectOpts)}})),W=(U.init,U.log,U.formatArgs,U.save,U.load,U.useColors,U.colors,U.inspectOpts,A((function(t){void 0===w||"renderer"===w.type||!0===w.browser||w.__nwjs?t.exports=D:t.exports=U}))),Y=W("guillotine-packer:split-strategies"),Z=function(t){return _(_({},t),{splitFrom:t.id})},K=function(){function t(t){this.kerfSize=t}return t.prototype.splitHorizontally=function(t,e){return Y("splitting "+t.id+" horizontally"),[_(_({},Z(t)),{x:t.x+e.width+this.kerfSize,width:t.width-e.width-this.kerfSize,height:e.height,id:"sh-r1"}),_(_({},Z(t)),{y:t.y+e.height+this.kerfSize,height:t.height-e.height-this.kerfSize,id:"sh-r2"})]},t.prototype.splitVertically=function(t,e){return Y("splitting "+t.id+" vertically"),[_(_({},Z(t)),{y:t.y+e.height+this.kerfSize,width:e.width,height:t.height-e.height-this.kerfSize,id:"sh-r1"}),_(_({},Z(t)),{x:t.x+e.width+this.kerfSize,y:t.y,width:t.width-e.width-this.kerfSize,id:"sh-r2"})]},t}(),Q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.split=function(t,e){return t.width<t.height?this.splitHorizontally(t,e):this.splitVertically(t,e)},e}(K),X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.split=function(t,e){return t.width>t.height?this.splitHorizontally(t,e):this.splitVertically(t,e)},e}(K),tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.split=function(t,e){return t.width-e.width<t.height-e.height?this.splitHorizontally(t,e):this.splitVertically(t,e)},e}(K),et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.split=function(t,e){return t.width-e.width>=t.height-e.height?this.splitHorizontally(t,e):this.splitVertically(t,e)},e}(K);!function(t){t[t.LongLeftoverAxisSplit=0]="LongLeftoverAxisSplit",t[t.ShortLeftoverAxisSplit=1]="ShortLeftoverAxisSplit",t[t.LongAxisSplit=2]="LongAxisSplit",t[t.ShortAxisSplit=3]="ShortAxisSplit"}(q||(q={})),function(t){t[t.BEST_SHORT_SIDE_FIT=0]="BEST_SHORT_SIDE_FIT",t[t.BEST_LONG_SIDE_FIT=1]="BEST_LONG_SIDE_FIT",t[t.BEST_AREA_FIT=2]="BEST_AREA_FIT"}(G||(G={}));var nt=function(){function t(){}return t.prototype.select=function(t,e){var n=this,r=t.filter((function(t){return t.width-e.width>=0&&t.height-e.height>=0})).map((function(t){return{rectangle:t,sortValue:n.generateSortValue(t,e)}})).sort((function(t,e){return t.sortValue>e.sortValue?1:-1}))[0];return r?r.rectangle:null},t}(),rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.generateSortValue=function(t,e){var n=e.width,r=e.height;return Math.min(t.width-n,t.height-r)},e}(nt),it=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.generateSortValue=function(t,e){var n=e.width,r=e.height;return Math.max(t.width-n,t.height-r)},e}(nt),ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.generateSortValue=function(t){return t.width*t.height},e}(nt);var ot,st,ut=function(t){return t.height*t.width},lt=function(t){return 2*t.height+2*t.width},at=function(t){return{short:Math.min(t.width,t.height),long:Math.max(t.width,t.height)}},ft=function(){function t(t){this.direction=t}return t.prototype.sort=function(t){var e=T(t).sort(this.comparer);return this.direction===st.DESC?e.reverse():e},t}(),bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.comparer=function(t,e){return ut(t)<ut(e)?-1:1},e}(ft),ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.comparer=function(t,e){var n=at(t),r=at(e);return n.short===r.short?n.long<r.long?-1:1:n.short<r.short?-1:1},e}(ft),pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.comparer=function(t,e){var n=at(t),r=at(e);return n.long===r.long?n.short<r.short?-1:1:n.long<r.long?-1:1},e}(ft),dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.comparer=function(t,e){return lt(t)<lt(e)?-1:1},e}(ft),Ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.comparer=function(t,e){return Math.abs(t.width-t.height)<Math.abs(e.width-e.height)?-1:1},e}(ft),jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.comparer=function(t,e){return t.width/t.height<e.width/e.height?-1:1},e}(ft);!function(t){t[t.Area=0]="Area",t[t.ShortSide=1]="ShortSide",t[t.LongSide=2]="LongSide",t[t.Perimeter=3]="Perimeter",t[t.Differences=4]="Differences",t[t.Ratio=5]="Ratio"}(ot||(ot={})),function(t){t[t.ASC=0]="ASC",t[t.DESC=1]="DESC"}(st||(st={}));var gt=W("guillotine-packer:pack-strategy");function yt(t){var e=t.binHeight,n=t.binWidth,r=t.items,i=t.selectionStrategy,c=t.splitStrategy,o=t.sortStrategy,s=t.sortOrder,u=t.kerfSize,l=t.allowRotation;gt("Executing! split strategy: "+c+", selection strategy: "+i+", sortStrategy: "+o+", sortOrder: "+s);var a=0,f=[],b=function(t,e){switch(t){case q.LongAxisSplit:return new X(e);case q.ShortAxisSplit:return new Q(e);case q.LongLeftoverAxisSplit:return new et(e);case q.ShortLeftoverAxisSplit:return new tt(e)}}(c,u),h=function(t){switch(t){case G.BEST_AREA_FIT:return new ct;case G.BEST_LONG_SIDE_FIT:return new it;case G.BEST_SHORT_SIDE_FIT:return new rt}}(i),p=function(t,e){var n;switch(t){case ot.Area:n=bt;break;case ot.Differences:n=Ot;break;case ot.LongSide:n=pt;break;case ot.Perimeter:n=dt;break;case ot.Ratio:n=jt;break;case ot.ShortSide:n=ht}return new n(e)}(o,s).sort(r),d=function(t){var e=h.select(f,t);return gt("for item "+JSON.stringify(t)+", selected "+JSON.stringify(e)),e?{rectangle:e,splitRectangles:function(t){var e=t.rectangle,n=t.item;return b.split(e,n).filter((function(t){return t.width>0&&t.height>0}))}({rectangle:e,item:t}),item:t}:null},O=function(t){var e,n=d(t),r=null;if(l&&(e=function(t){return _(_({},t),{height:t.width,width:t.height})}(t),r=d(e)),null===n&&null===r)return gt("No free rectangles found for",t),null;if(null===n)return gt("Original item didn't fit, using rotated",t),r;if(null===r)return gt("Rotated item didn't fit, using original option",t),n;var i=function(t){var e=t.splitRectangles;return Math.max.apply(Math,e.map((function(t){return t.height*t.width})))},c=i(n),o=i(r);return gt("Original max area "+c+", rotated max area "+o),i(n)>=i(r)?(gt("Going with original placement option"),n):(gt("Going with rotated placement option"),r)};return{sortStrategy:o,sortOrder:s,packedItems:p.map((function(t,r){gt("packing item",t);var i=O(t);if(i||(a++,gt("creating bin "+a),f.push({width:n,height:e,x:0,y:0,bin:a,id:"root"}),i=O(t)),!i)throw new Error("item at index "+r+" with dimensions "+t.width+"x"+t.height+" exceeds bin dimensions of "+n+"x"+e);var c=i.rectangle,o=i.splitRectangles;gt("selected rectangle",c);var s=i.item,u=s.width,l=s.height,b={item:function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(s,["width","height"]),width:u,height:l,x:c.x,y:c.y,bin:c.bin};gt("packed item",b),gt("free rectangles pre split",f);var h=f.findIndex((function(t){return t===c}));return f.splice.apply(f,T([h,1],o)),gt("free rectangles post split",f),b})).reduce((function(t,e){return t.length>=e.bin?t[e.bin-1].push(e):t.push([e]),t}),[]),splitStrategy:c,selectionStrategy:i}}var mt=function(t,e){var n;return(n=[]).concat.apply(n,t.map((function(t){return e.map((function(e){return[].concat(t,e)}))})))},vt=W("guillotine-packer");function wt(t,e){var n=t.binHeight,r=t.binWidth,i=t.items,c=void 0===e?{}:e,o=c.selectionStrategy,s=c.splitStrategy,u=c.sortStrategy,l=c.kerfSize,a=void 0===l?0:l,f=c.allowRotation,b=void 0===f||f;function h(t){return Object.values(t).filter((function(t){return parseInt(t,10)>=0})).map((function(t){return t}))}return function t(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n?t.apply(void 0,T([mt(e,n)],r)):e}(void 0!==o?[o]:h(G),void 0!==s?[s]:h(q),void 0!==u?[u]:h(ot),[st.ASC,st.DESC]).map((function(t){var e=t[0],c=t[1],o=t[2],s=t[3];return yt({binWidth:r,binHeight:n,items:i,splitStrategy:c,selectionStrategy:e,sortStrategy:o,sortOrder:s,kerfSize:a,allowRotation:b})})).reduce((function(t,e){var n=e.splitStrategy,r=e.sortStrategy,i=e.selectionStrategy,c=e.sortOrder,o=e.packedItems;return vt("Result for split strategy: "+n+", selection strategy: "+i+", sortStrategy: "+r+", sortOrder: "+c+" - "+o.length+" bin(s)"),!t||o.length<t.length?o:t}),null)}function xt(t,e,n){const r=t.slice();return r[15]=e[n],r[17]=n,r}function Ct(t,e){let n,i,c,o,s,u,l,f,b,h,p,d,O,j,g,y,m,v,w,x,C,S,k,F,E,_,T,A,$,R,M,z,I=e[17]+1+"";function P(...t){return e[12](e[17],...t)}function L(){e[13].call(x,e[17])}function D(){e[14].call($,e[17])}return{key:t,first:null,c(){n=Object(r.i)("li"),i=Object(r.i)("div"),c=Object(r.i)("div"),o=Object(r.i)("div"),s=Object(r.v)(),u=Object(r.i)("strong"),l=Object(r.x)("Fabric piece #"),f=Object(r.x)(I),b=Object(r.v)(),h=Object(r.i)("div"),p=Object(r.i)("button"),p.textContent="Ã—",d=Object(r.v)(),O=Object(r.i)("div"),j=Object(r.i)("div"),g=Object(r.i)("label"),y=Object(r.x)("Width:"),v=Object(r.v)(),w=Object(r.i)("div"),x=Object(r.i)("input"),S=Object(r.v)(),k=Object(r.i)("div"),F=Object(r.i)("label"),E=Object(r.x)("Length:"),T=Object(r.v)(),A=Object(r.i)("div"),$=Object(r.i)("input"),M=Object(r.v)(),Object(r.c)(o,"class","indicator svelte-tc4kol"),Object(r.u)(o,"background-color",a(e[15].id)),Object(r.c)(c,"class","center-v left-h svelte-tc4kol"),Object(r.c)(p,"type","button"),Object(r.c)(p,"aria-label","Remove"),Object(r.c)(p,"title","Remove"),Object(r.c)(p,"class","svelte-tc4kol"),Object(r.c)(h,"class","flex-1 text-align-right svelte-tc4kol"),Object(r.c)(i,"class","center-v left-h svelte-tc4kol"),Object(r.c)(g,"for",m="fabric-width-"+e[17]),Object(r.c)(x,"id",C="fabric-width-"+e[17]),Object(r.c)(x,"type","number"),Object(r.c)(x,"inputmode","numeric"),Object(r.c)(x,"placeholder","10"),Object(r.c)(x,"class","svelte-tc4kol"),Object(r.c)(w,"class","input-wrap svelte-tc4kol"),Object(r.c)(F,"for",_="fabric-height-"+e[17]),Object(r.c)($,"id",R="fabric-height-"+e[17]),Object(r.c)($,"type","number"),Object(r.c)($,"inputmode","numeric"),Object(r.c)($,"placeholder","10"),Object(r.c)($,"class","svelte-tc4kol"),Object(r.c)(A,"class","input-wrap svelte-tc4kol"),Object(r.c)(O,"class","grid grid-gap-10 pad-v-10 fabric-piece-grid svelte-tc4kol"),Object(r.c)(n,"class","pad-v-10 svelte-tc4kol"),this.first=n},m(t,a,m){Object(r.m)(t,n,a),Object(r.b)(n,i),Object(r.b)(i,c),Object(r.b)(c,o),Object(r.b)(c,s),Object(r.b)(c,u),Object(r.b)(u,l),Object(r.b)(u,f),Object(r.b)(i,b),Object(r.b)(i,h),Object(r.b)(h,p),Object(r.b)(n,d),Object(r.b)(n,O),Object(r.b)(O,j),Object(r.b)(j,g),Object(r.b)(g,y),Object(r.b)(O,v),Object(r.b)(O,w),Object(r.b)(w,x),Object(r.t)(x,e[1][e[17]].width),Object(r.b)(O,S),Object(r.b)(O,k),Object(r.b)(k,F),Object(r.b)(F,E),Object(r.b)(O,T),Object(r.b)(O,A),Object(r.b)(A,$),Object(r.t)($,e[1][e[17]].height),Object(r.b)(n,M),m&&Object(r.q)(z),z=[Object(r.n)(p,"click",P),Object(r.n)(x,"input",L),Object(r.n)($,"input",D)]},p(t,n){e=t,2&n&&Object(r.u)(o,"background-color",a(e[15].id)),2&n&&I!==(I=e[17]+1+"")&&Object(r.s)(f,I),2&n&&m!==(m="fabric-width-"+e[17])&&Object(r.c)(g,"for",m),2&n&&C!==(C="fabric-width-"+e[17])&&Object(r.c)(x,"id",C),2&n&&Object(r.y)(x.value)!==e[1][e[17]].width&&Object(r.t)(x,e[1][e[17]].width),2&n&&_!==(_="fabric-height-"+e[17])&&Object(r.c)(F,"for",_),2&n&&R!==(R="fabric-height-"+e[17])&&Object(r.c)($,"id",R),2&n&&Object(r.y)($.value)!==e[1][e[17]].height&&Object(r.t)($,e[1][e[17]].height)},d(t){t&&Object(r.h)(n),Object(r.q)(z)}}}function St(t){let e,n;return{c(){e=Object(r.i)("div"),n=Object(r.x)(t[4]),Object(r.c)(e,"class","error-message pad-v-10 svelte-tc4kol")},m(t,i){Object(r.m)(t,e,i),Object(r.b)(e,n)},p(t,e){16&e&&Object(r.s)(n,t[4])},d(t){t&&Object(r.h)(e)}}}function kt(t){let e,n,i,c,o,s,u=t[5].fabricHeight+"";return{c(){e=Object(r.i)("div"),n=Object(r.x)("You need a piece of fabric "),i=Object(r.i)("strong"),c=Object(r.x)(u),o=Object(r.x)(" inches"),s=Object(r.x)(" long."),Object(r.c)(e,"class","solution-message pad-v-10")},m(t,u){Object(r.m)(t,e,u),Object(r.b)(e,n),Object(r.b)(e,i),Object(r.b)(i,c),Object(r.b)(i,o),Object(r.b)(e,s)},p(t,e){32&e&&u!==(u=t[5].fabricHeight+"")&&Object(r.s)(c,u)},d(t){t&&Object(r.h)(e)}}}function Ft(t){let e;const n=new v({props:{items:t[5].items,width:t[2],height:t[5].fabricHeight,increment:t[0]}});return{c(){Object(r.e)(n.$$.fragment)},m(t,i){Object(r.o)(n,t,i),e=!0},p(t,e){const r={};32&e&&(r.items=t[5].items),4&e&&(r.width=t[2]),32&e&&(r.height=t[5].fabricHeight),1&e&&(r.increment=t[0]),n.$set(r)},i(t){e||(Object(r.z)(n.$$.fragment,t),e=!0)},o(t){Object(r.A)(n.$$.fragment,t),e=!1},d(t){Object(r.g)(n,t)}}}function Et(t){let e,n,i,c,o,s,u,l,a,f,b,h,p,d,O,j,g,y,m,v,w,x,C,S,k,F,E,_,T,A,$,R,M,z,I,P,L,D,N,B=[],H=new Map,V=t[1];const q=t=>t[15].id;for(let e=0;e<V.length;e+=1){let n=xt(t,V,e),r=q(n);H.set(r,B[e]=Ct(r,n))}let G=t[4]&&St(t),J=t[5]&&!t[4]&&kt(t),U=t[5]&&Ft(t);return{c(){e=Object(r.i)("div"),n=Object(r.i)("h1"),n.textContent="Fabric calculator",i=Object(r.v)(),c=Object(r.i)("p"),c.textContent="This tool can calculate how much fabric you should buy based on the pieces you need to cut.\n    The default assumption is that fabric is sold by the half-yard. All values are in inches.",o=Object(r.v)(),s=Object(r.i)("div"),u=Object(r.i)("div"),l=Object(r.i)("div"),a=Object(r.i)("div"),f=Object(r.i)("label"),f.textContent="Width of fabric you're buying:",b=Object(r.v)(),h=Object(r.i)("div"),p=Object(r.i)("input"),d=Object(r.v)(),O=Object(r.i)("label"),O.textContent="Fabric sold in increments of:",j=Object(r.v)(),g=Object(r.i)("div"),y=Object(r.i)("input"),m=Object(r.v)(),v=Object(r.i)("div"),w=Object(r.i)("input"),x=Object(r.v)(),C=Object(r.i)("label"),C.textContent="Allow rotation of fabric pieces",S=Object(r.v)(),k=Object(r.i)("div"),F=Object(r.i)("h2"),F.textContent="Pieces of fabric",E=Object(r.v)(),_=Object(r.i)("ul");for(let t=0;t<B.length;t+=1)B[t].c();T=Object(r.v)(),A=Object(r.i)("div"),$=Object(r.i)("button"),$.textContent="Add fabric piece",R=Object(r.v)(),M=Object(r.i)("div"),G&&G.c(),z=Object(r.v)(),J&&J.c(),I=Object(r.v)(),U&&U.c(),P=Object(r.v)(),L=Object(r.i)("footer"),L.innerHTML='\n    Created by <a href="https://nolanlawson.com" target="_blank" rel="noopener">Nolan Lawson</a>.\n    See the <a href="https://github.com/nolanlawson/fabric-calculator">source code</a>.\n  ',Object(r.c)(f,"for","fabric-width"),Object(r.c)(p,"id","fabric-width"),Object(r.c)(p,"type","number"),Object(r.c)(p,"inputmode","numeric"),Object(r.c)(p,"placeholder","45"),Object(r.c)(p,"class","svelte-tc4kol"),Object(r.c)(h,"class","input-wrap svelte-tc4kol"),Object(r.c)(O,"for","fabric-increment"),Object(r.c)(y,"id","fabric-increment"),Object(r.c)(y,"type","number"),Object(r.c)(y,"inputmode","numeric"),Object(r.c)(y,"placeholder","18"),Object(r.c)(y,"class","svelte-tc4kol"),Object(r.c)(g,"class","input-wrap svelte-tc4kol"),Object(r.c)(w,"id","fabric-rotation"),Object(r.c)(w,"type","checkbox"),Object(r.c)(w,"class","svelte-tc4kol"),Object(r.c)(C,"for","fabric-rotation"),Object(r.c)(v,"class","grid-span-2 svelte-tc4kol"),Object(r.c)(a,"class","grid grid-gap-20 grid-2fr-1fr svelte-tc4kol"),Object(r.c)(l,"class","pad-v-10 pad-h-10 svelte-tc4kol"),Object(r.c)(_,"class","svelte-tc4kol"),Object(r.c)($,"type","button"),Object(r.c)($,"class","svelte-tc4kol"),Object(r.c)(A,"class","pad-v-10"),Object(r.c)(u,"class","svelte-tc4kol"),Object(r.c)(M,"class","text-align-center svelte-tc4kol"),Object(r.c)(s,"class","flex flex-h-when-big svelte-tc4kol"),Object(r.c)(e,"class","app svelte-tc4kol")},m(H,V,q){Object(r.m)(H,e,V),Object(r.b)(e,n),Object(r.b)(e,i),Object(r.b)(e,c),Object(r.b)(e,o),Object(r.b)(e,s),Object(r.b)(s,u),Object(r.b)(u,l),Object(r.b)(l,a),Object(r.b)(a,f),Object(r.b)(a,b),Object(r.b)(a,h),Object(r.b)(h,p),Object(r.t)(p,t[2]),Object(r.b)(a,d),Object(r.b)(a,O),Object(r.b)(a,j),Object(r.b)(a,g),Object(r.b)(g,y),Object(r.t)(y,t[0]),Object(r.b)(a,m),Object(r.b)(a,v),Object(r.b)(v,w),w.checked=t[3],Object(r.b)(v,x),Object(r.b)(v,C),Object(r.b)(u,S),Object(r.b)(u,k),Object(r.b)(k,F),Object(r.b)(k,E),Object(r.b)(k,_);for(let t=0;t<B.length;t+=1)B[t].m(_,null);Object(r.b)(k,T),Object(r.b)(k,A),Object(r.b)(A,$),Object(r.b)(s,R),Object(r.b)(s,M),G&&G.m(M,null),Object(r.b)(M,z),J&&J.m(M,null),Object(r.b)(M,I),U&&U.m(M,null),Object(r.b)(e,P),Object(r.b)(e,L),D=!0,q&&Object(r.q)(N),N=[Object(r.n)(p,"input",t[9]),Object(r.n)(y,"input",t[10]),Object(r.n)(w,"change",t[11]),Object(r.n)($,"click",t[6])]},p(t,[e]){if(4&e&&Object(r.y)(p.value)!==t[2]&&Object(r.t)(p,t[2]),1&e&&Object(r.y)(y.value)!==t[0]&&Object(r.t)(y,t[0]),8&e&&(w.checked=t[3]),130&e){const n=t[1];B=Object(r.B)(B,e,q,1,t,n,H,_,r.f,Ct,null,xt)}t[4]?G?G.p(t,e):(G=St(t),G.c(),G.m(M,z)):G&&(G.d(1),G=null),t[5]&&!t[4]?J?J.p(t,e):(J=kt(t),J.c(),J.m(M,I)):J&&(J.d(1),J=null),t[5]?U?(U.p(t,e),32&e&&Object(r.z)(U,1)):(U=Ft(t),U.c(),Object(r.z)(U,1),U.m(M,null)):U&&(Object(r.k)(),Object(r.A)(U,1,1,()=>{U=null}),Object(r.d)())},i(t){D||(Object(r.z)(U),D=!0)},o(t){Object(r.A)(U),D=!1},d(t){t&&Object(r.h)(e);for(let t=0;t<B.length;t+=1)B[t].d();G&&G.d(),J&&J.d(),U&&U.d(),Object(r.q)(N)}}}function _t(t){return t&&"number"==typeof t&&t>0}function Tt(t,e,n){let i,c=18,o=[],s=45,u=!0,l="",a=-1;function f(t){o.splice(t,1),n(1,o=[...o])}return t.$$.update=()=>{if(47&t.$$.dirty){!function(){if(n(5,i=void 0),n(4,l=""),!o.length)return;if(o.some(t=>!_t(t.width)||!_t(t.height))||!_t(s)||!_t(c))return;if(o.some(({width:t,height:e})=>t>s&&e>s))return void n(4,l="One of the pieces of fabric is larger than the size of the fabric you are buying");console.log("calculating",JSON.stringify(o),s,c);let t=c,e=0;for(;!i;)try{if(e++>100)return console.log("gave up after 100 calculations"),void n(4,l="Could not calculate a solution to this problem");const r=wt({binWidth:s,binHeight:t,items:o.map(({width:t,height:e,id:n})=>({width:t,height:e,name:n}))},{allowRotation:u});if(1===r.length){const e=r[0].map(t=>({width:t.width,height:t.height,x:t.x,y:t.y,id:t.item.name})).sort((t,e)=>t.id<e.id?-1:1);n(5,i={items:e,fabricHeight:t})}else t+=c}catch(e){t+=c}console.log(`solution (calculated ${e} time(s))`,i)}()}},[c,o,s,u,l,i,function(){n(1,o=o.concat([{width:10,height:10,id:++a}]))},f,a,function(){s=Object(r.y)(this.value),n(2,s)},function(){c=Object(r.y)(this.value),n(0,c)},function(){u=this.checked,n(3,u)},t=>f(t),function(t){o[t].width=Object(r.y)(this.value),n(1,o)},function(t){o[t].height=Object(r.y)(this.value),n(1,o)}]}class At extends r.a{constructor(t){super(),Object(r.l)(this,t,Tt,Et,r.r,{})}}function $t(t){const e=n.p;let r="";return(!e||e.indexOf("://")<0)&&(r+=window.location.protocol+"//"+window.location.host),r+=e||"/",r+t}var Rt=new At({target:document.body});e.default=Rt;({url:$t("_dist_/index.js")}).hot&&({url:$t("_dist_/index.js")}.hot.accept(),{url:$t("_dist_/index.js")}.hot.dispose(()=>{Rt.$destroy()}))}]);